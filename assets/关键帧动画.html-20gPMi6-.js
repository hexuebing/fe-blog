const n=JSON.parse(`{"key":"v-5c6a09be","path":"/posts/ThreeJS/%E5%85%B3%E9%94%AE%E5%B8%A7%E5%8A%A8%E7%94%BB.html","title":"关键帧动画","lang":"zh-CN","frontmatter":{"description":"关键帧动画 创建帧动画 const geometry = new THREE.BoxGeometry(10, 10, 10) const material = new THREE.MeshLambertMaterial({ color: 0xff0000 }) const mesh = new THREE.Mesh(geometry, material) scene.add(mesh) //时间轴上，设置三个时刻0、3、6秒 // times中三个不同时间点，物体分别对应values中的三个xyz坐标 // 0~3秒，物体从(0,0,0)逐渐移动到(100,0,0),3~6秒逐渐从(100,0,0)移动到(0,0,100) const posKF = new THREE.KeyframeTrack('.position', [0, 3, 6], [0, 0, 0, 10, 0, 0, 0, 0, 10]); // 从2秒到5秒，物体从红色逐渐变化为蓝色 const colorKF = new THREE.KeyframeTrack('.material.color', [2, 5], [1, 0, 0, 0, 0, 1]); // 基于关键帧数据，创建一个clip关键帧动画对象，命名\\"Action\\"，持续时间6秒。 const clip = new THREE.AnimationClip(\\"Action\\", 6, [posKF, colorKF]); // 包含关键帧动画的模型对象作为AnimationMixer的参数创建一个播放器mixer const mixer = new THREE.AnimationMixer(mesh); const clipAction = mixer.clipAction(clip); //.play()控制动画播放，默认循环播放 clipAction.play(); const clock = new THREE.Clock(); function render(time) { const delta = clock.getDelta(); // mixer.update()更新播放器AnimationMixer时间 if ( mixer ) { mixer.update( delta ); } renderer.render( scene, camera ); requestAnimationFrame(render) } render()","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/fe-blog/posts/ThreeJS/%E5%85%B3%E9%94%AE%E5%B8%A7%E5%8A%A8%E7%94%BB.html"}],["meta",{"property":"og:site_name","content":"Mr.He"}],["meta",{"property":"og:title","content":"关键帧动画"}],["meta",{"property":"og:description","content":"关键帧动画 创建帧动画 const geometry = new THREE.BoxGeometry(10, 10, 10) const material = new THREE.MeshLambertMaterial({ color: 0xff0000 }) const mesh = new THREE.Mesh(geometry, material) scene.add(mesh) //时间轴上，设置三个时刻0、3、6秒 // times中三个不同时间点，物体分别对应values中的三个xyz坐标 // 0~3秒，物体从(0,0,0)逐渐移动到(100,0,0),3~6秒逐渐从(100,0,0)移动到(0,0,100) const posKF = new THREE.KeyframeTrack('.position', [0, 3, 6], [0, 0, 0, 10, 0, 0, 0, 0, 10]); // 从2秒到5秒，物体从红色逐渐变化为蓝色 const colorKF = new THREE.KeyframeTrack('.material.color', [2, 5], [1, 0, 0, 0, 0, 1]); // 基于关键帧数据，创建一个clip关键帧动画对象，命名\\"Action\\"，持续时间6秒。 const clip = new THREE.AnimationClip(\\"Action\\", 6, [posKF, colorKF]); // 包含关键帧动画的模型对象作为AnimationMixer的参数创建一个播放器mixer const mixer = new THREE.AnimationMixer(mesh); const clipAction = mixer.clipAction(clip); //.play()控制动画播放，默认循环播放 clipAction.play(); const clock = new THREE.Clock(); function render(time) { const delta = clock.getDelta(); // mixer.update()更新播放器AnimationMixer时间 if ( mixer ) { mixer.update( delta ); } renderer.render( scene, camera ); requestAnimationFrame(render) } render()"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-02-20T02:56:04.000Z"}],["meta",{"property":"article:author","content":"Mr.He"}],["meta",{"property":"article:modified_time","content":"2024-02-20T02:56:04.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"关键帧动画\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-02-20T02:56:04.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.He\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"创建帧动画","slug":"创建帧动画","link":"#创建帧动画","children":[]}],"git":{"createdTime":1708397764000,"updatedTime":1708397764000,"contributors":[{"name":"何雪斌","email":"hexuebin@megvii.com","commits":1}]},"readingTime":{"minutes":1.21,"words":362},"filePathRelative":"posts/ThreeJS/关键帧动画.md","localizedDate":"2024年2月20日","excerpt":"<h1> 关键帧动画</h1>\\n<h2> 创建帧动画</h2>\\n<div class=\\"language-javascript line-numbers-mode\\" data-ext=\\"js\\"><pre class=\\"language-javascript\\"><code><span class=\\"token keyword\\">const</span> geometry <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">new</span> <span class=\\"token class-name\\">THREE<span class=\\"token punctuation\\">.</span>BoxGeometry</span><span class=\\"token punctuation\\">(</span><span class=\\"token number\\">10</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">10</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">10</span><span class=\\"token punctuation\\">)</span>\\n<span class=\\"token keyword\\">const</span> material <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">new</span> <span class=\\"token class-name\\">THREE<span class=\\"token punctuation\\">.</span>MeshLambertMaterial</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">{</span>\\n  <span class=\\"token literal-property property\\">color</span><span class=\\"token operator\\">:</span> <span class=\\"token number\\">0xff0000</span>\\n<span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span>\\n\\n<span class=\\"token keyword\\">const</span> mesh <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">new</span> <span class=\\"token class-name\\">THREE<span class=\\"token punctuation\\">.</span>Mesh</span><span class=\\"token punctuation\\">(</span>geometry<span class=\\"token punctuation\\">,</span> material<span class=\\"token punctuation\\">)</span>\\nscene<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">add</span><span class=\\"token punctuation\\">(</span>mesh<span class=\\"token punctuation\\">)</span>\\n\\n<span class=\\"token comment\\">//时间轴上，设置三个时刻0、3、6秒</span>\\n<span class=\\"token comment\\">// times中三个不同时间点，物体分别对应values中的三个xyz坐标</span>\\n<span class=\\"token comment\\">// 0~3秒，物体从(0,0,0)逐渐移动到(100,0,0),3~6秒逐渐从(100,0,0)移动到(0,0,100)</span>\\n<span class=\\"token keyword\\">const</span> posKF <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">new</span> <span class=\\"token class-name\\">THREE<span class=\\"token punctuation\\">.</span>KeyframeTrack</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'.position'</span><span class=\\"token punctuation\\">,</span> <span class=\\"token punctuation\\">[</span><span class=\\"token number\\">0</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">3</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">6</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">,</span> <span class=\\"token punctuation\\">[</span><span class=\\"token number\\">0</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">0</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">0</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">10</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">0</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">0</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">0</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">0</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">10</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token comment\\">// 从2秒到5秒，物体从红色逐渐变化为蓝色</span>\\n<span class=\\"token keyword\\">const</span> colorKF <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">new</span> <span class=\\"token class-name\\">THREE<span class=\\"token punctuation\\">.</span>KeyframeTrack</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'.material.color'</span><span class=\\"token punctuation\\">,</span> <span class=\\"token punctuation\\">[</span><span class=\\"token number\\">2</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">5</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">,</span> <span class=\\"token punctuation\\">[</span><span class=\\"token number\\">1</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">0</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">0</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">0</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">0</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">1</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token comment\\">// 基于关键帧数据，创建一个clip关键帧动画对象，命名\\"Action\\"，持续时间6秒。</span>\\n<span class=\\"token keyword\\">const</span> clip <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">new</span> <span class=\\"token class-name\\">THREE<span class=\\"token punctuation\\">.</span>AnimationClip</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">\\"Action\\"</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">6</span><span class=\\"token punctuation\\">,</span> <span class=\\"token punctuation\\">[</span>posKF<span class=\\"token punctuation\\">,</span> colorKF<span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token comment\\">// 包含关键帧动画的模型对象作为AnimationMixer的参数创建一个播放器mixer</span>\\n<span class=\\"token keyword\\">const</span> mixer <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">new</span> <span class=\\"token class-name\\">THREE<span class=\\"token punctuation\\">.</span>AnimationMixer</span><span class=\\"token punctuation\\">(</span>mesh<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token keyword\\">const</span> clipAction <span class=\\"token operator\\">=</span> mixer<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">clipAction</span><span class=\\"token punctuation\\">(</span>clip<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span> \\n<span class=\\"token comment\\">//.play()控制动画播放，默认循环播放</span>\\nclipAction<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">play</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n\\n<span class=\\"token keyword\\">const</span> clock <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">new</span> <span class=\\"token class-name\\">THREE<span class=\\"token punctuation\\">.</span>Clock</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token keyword\\">function</span> <span class=\\"token function\\">render</span><span class=\\"token punctuation\\">(</span><span class=\\"token parameter\\">time</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n  <span class=\\"token keyword\\">const</span> delta <span class=\\"token operator\\">=</span> clock<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">getDelta</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n  <span class=\\"token comment\\">// mixer.update()更新播放器AnimationMixer时间</span>\\n  <span class=\\"token keyword\\">if</span> <span class=\\"token punctuation\\">(</span> mixer <span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n    mixer<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">update</span><span class=\\"token punctuation\\">(</span> delta <span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n  <span class=\\"token punctuation\\">}</span>\\n\\n  renderer<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">render</span><span class=\\"token punctuation\\">(</span> scene<span class=\\"token punctuation\\">,</span> camera <span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n  <span class=\\"token function\\">requestAnimationFrame</span><span class=\\"token punctuation\\">(</span>render<span class=\\"token punctuation\\">)</span>\\n<span class=\\"token punctuation\\">}</span>\\n<span class=\\"token function\\">render</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}`);export{n as data};
